# –°—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ Jira Structure REST API

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-08  
**Jira –≤–µ—Ä—Å–∏—è:** 10.7.3 (Server)  
**Base URL:** https://job.sbertroika.ru  
**API Path:** `/rest/structure/latest`

## ‚úÖ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä
- **Endpoint:** `GET /rest/structure/latest/structure`
- **–ú–µ—Ç–æ–¥:** `getStructures()`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ 13 —Å—Ç—Ä—É–∫—Ç—É—Ä
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** 
  - `projectKey` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
const structures = await apiClient.getStructures();
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **Endpoint:** `GET /rest/structure/latest/structure/{id}`
- **–ú–µ—Ç–æ–¥:** `getStructure(structureId)`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã –¥–µ—Ç–∞–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
const structure = await apiClient.getStructure('138');
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–µ—Ç–∞–ª—è–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
// {
//   id: 138,
//   name: "–†–µ–∫–∞2025",
//   description: "",
//   editable: true,
//   ...
// }
```

## ‚ùå –ù–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **Endpoint:** `GET /rest/structure/latest/structure/{id}/element`
- **–ú–µ—Ç–æ–¥:** `getStructureElements(structureId, params)`
- **–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (404)**
- **–û—à–∏–±–∫–∞:** `HTTP 404 Not Found`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã endpoints:**
  - `/structure/{id}/element`
  - `/structure/{id}/element?maxResults=10`
  - `/structure/{id}/element?flat=false`

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **Endpoint:** `GET /rest/structure/latest/structure/{id}/hierarchy`
- **–ú–µ—Ç–æ–¥:** `getStructureHierarchy(structureId, params)`
- **–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (404)**
- **–û—à–∏–±–∫–∞:** `HTTP 404 Not Found`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã endpoints:**
  - `/structure/{id}/hierarchy`
  - `/structure/{id}/element` (fallback)
  - `/structure/{id}/hierarchy?flat=false`
  - `/structure/{id}/element?flat=false`

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404  
**Fallback –º–µ—Ö–∞–Ω–∏–∑–º:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ - –ø—Ä–æ–±—É–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ elements: [] }` –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç–æ–¥ | Endpoint | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-------|----------|--------|------------|
| `getStructures()` | `/structure` | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–∞–π–¥–µ–Ω–æ 13 —Å—Ç—Ä—É–∫—Ç—É—Ä |
| `getStructure(id)` | `/structure/{id}` | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ |
| `getStructureElements(id)` | `/structure/{id}/element` | ‚ùå 404 | –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç |
| `getStructureHierarchy(id)` | `/structure/{id}/hierarchy` | ‚ùå 404 | –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç |

**–ü—Ä–æ—Ü–µ–Ω—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:** 50% (2 –∏–∑ 4 –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç)

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç endpoints
–í–æ–∑–º–æ–∂–Ω–æ, –¥–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ Structure –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥—Ä—É–≥–∏–µ endpoints:
- –ú–æ–∂–µ—Ç –±—ã—Ç—å `/rest/structure/1.0/structure/{id}/elements` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
- –ò–ª–∏ `/rest/structure/2.0/structure/{id}/tree`
- –ò–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

### 2. –í–µ—Ä—Å–∏—è API
–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: `/rest/structure/latest`  
–í–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
- `/rest/structure/1.0`
- `/rest/structure/2.0`
- `/rest/structure` (–±–µ–∑ –≤–µ—Ä—Å–∏–∏)

### 3. –í–µ—Ä—Å–∏—è –ø–ª–∞–≥–∏–Ω–∞ Structure
–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ endpoints. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- –í–µ—Ä—Å–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ Structure
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### 4. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–í–æ–∑–º–æ–∂–Ω–æ, —Ç—Ä–µ–±—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å—Ç—Ä—É–∫—Ç—É—Ä:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Jira
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ Structure

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—É—Å—Ç—ã–µ
–•–æ—Ç—è —ç—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ (404 –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ endpoint, –∞ –Ω–µ –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–ª–∞–≥–∏–Ω–∞ Structure**
   - –£–∑–Ω–∞—Ç—å —Ç–æ—á–Ω—É—é –≤–µ—Ä—Å–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
   - –ù–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints

2. **–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ API:**
   ```typescript
   // –í src/jiraApiClient.ts, —Å—Ç—Ä–æ–∫–∞ 92
   const apiPath = useStructureApi 
     ? '/rest/structure/1.0'  // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é 1.0
     : ...
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä/curl:**
   ```bash
   # –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
   curl -H "Authorization: Bearer TOKEN" \
        https://job.sbertroika.ru/rest/structure/1.0/structure/138/element
   
   curl -H "Authorization: Bearer TOKEN" \
        https://job.sbertroika.ru/rest/structure/2.0/structure/138/element
   
   # –ò–ª–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–º
   curl -H "Authorization: Bearer TOKEN" \
        https://job.sbertroika.ru/rest/structure/latest/structure/138/elements
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Jira:**
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –ª–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ endpoints

5. **–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:**
   - –£—Ç–æ—á–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –ø–ª–∞–≥–∏–Ω–∞ Structure
   - –ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞

## ‚úÖ –í—ã–≤–æ–¥—ã

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ë–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Jira Structure API
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚ùå –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚ùå –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- API **—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω** - –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Å—Ç—Ä—É–∫—Ç—É—Ä —Ç—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ–±–ª–µ–º–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ endpoints –∏–ª–∏ –≤–µ—Ä—Å–∏–∏ API

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–µ—Ä—Å–∏—é –ø–ª–∞–≥–∏–Ω–∞ Structure
2. –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
3. –û–±–Ω–æ–≤–∏—Ç—å endpoints –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ endpoints







