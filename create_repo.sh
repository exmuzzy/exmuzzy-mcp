#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./create_repo.sh

set -e

echo "üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub..."
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
if ! gh auth status &>/dev/null; then
    echo "‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ GitHub CLI"
    echo ""
    echo "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:"
    echo "  gh auth login"
    echo ""
    echo "–í—ã–±–µ—Ä–∏—Ç–µ:"
    echo "  - GitHub.com"
    echo "  - HTTPS"
    echo "  - Login with a web browser"
    echo ""
    exit 1
fi

echo "‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞"
echo ""

# –°–æ–∑–¥–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥
echo "üì¶ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è exmuzzy-mcp..."
gh repo create exmuzzy-mcp \
    --public \
    --description "Jira MCP Server - Fork with custom modifications" \
    --source=. \
    --remote=origin \
    --push

echo ""
echo "‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω –∏ –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!"
echo ""
echo "üîó –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/$(gh api user --jq .login)/exmuzzy-mcp"

